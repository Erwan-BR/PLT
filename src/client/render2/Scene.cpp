// Generated by AMillasseau


#include "Scene.h"

namespace render2 {

	/// @brief Empty constructor of the Scene class.
    Scene::Scene (){
    	//Creation of the Window
    	sf::RenderWindow window(sf::VideoMode(200,200),"It's a Wonderful World!",sf::Style::Titlebar|sf::Style::Close);
    	//Storage of the window in the class attribute
    	this->window = &window;

    	//Creation and initialisation of the background texture
    	this->background_texture =sf::Texture();
    	(this->background_texture).loadFromFile("./background.png");

    	//Creation and initialisation of the background sprite
    	this->background=sf::Sprite();
    	(this->background).setTexture(this->background_texture);

    	/*TODO PlayerRenderer*/
    }

    /// @brief Full constructor of the Scene class.
    /// @param game Pointer on the Game coresponding to this Renderer
    Scene::Scene (state::Game* game){
    	//Storage of the Game Class
		this->game = game;

		//Creation of the Window
		sf::RenderWindow window(sf::VideoMode(1920,1080),"It's a Wonderful World!",sf::Style::Titlebar|sf::Style::Close);
		//Storage of the window in the class' attribute
		this->window = &window;

		//Creation and initialisation of the background texture
		this->background_texture =sf::Texture();
		(this->background_texture).loadFromFile("./background.png");

		//Creation and initialisation of the background sprite
		this->background=sf::Sprite();
		(this->background).setTexture(this->background_texture);

		/*TODO PlayerRenderer*/
	}

    /// @brief Full destructor of the Scene class.
    Scene::~Scene (){

    }

    void Scene::displayDraftCard (){	//Unused

    }

    /// @brief Draw of the Scene in the window.
    void Scene::draw (){
    	//Display background
    	(this->window)->draw((this->background));

    	//Display of the user's board
    	(this->own_player_renderer).draw(this->window);

    	//Display of other player's board
    	for (PlayerRenderer p : (this->other_player_renderer)) {
    		p.draw(this->window);
    	}
    }

    /// @brief Erase the current content of the window.
    void Scene::erase (){
    	//Clear the window in the color black.
    	(this->window)->clear(sf::Color::Black);
    }

    /// @brief Display the windows on the screen.
    void Scene::display (){
    	(this->window)->display();
    }

    /// @brief Check if the window is still open.
    /// @return true if the window is open, false else.
    bool Scene::isOpen (){
    	return (this->window)->isOpen();
    }


};
